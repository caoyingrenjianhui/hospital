<!DOCTYPE html>
<html lang="zxx">
<head>
    <title>主页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8"/>
    <meta name="keywords" content=""/>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!-- Custom Theme files -->
    <link href="../css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
    <link href="../css/style.css" type="text/css" rel="stylesheet" media="all">
    <!-- font-awesome icons -->
    <link href="../css/fontawesome-all.min.css" rel="stylesheet">
    <!-- //Custom Theme files -->
    <link href="../css/minimal-slider.css" rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="../css/flexslider.css" type="text/css" media="screen" property=""/>
    <!-- online-fonts -->
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:200,300,400,500,600,700,800,900" rel="stylesheet">
    <!-- //online-fonts -->
</head>
<body>
<!-- header -->
<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-gradient-secondary">
        <h1>
            <a class="navbar-brand text-white" href="index.html">
                百康诊所
            </a>
        </h1>
        <button class="navbar-toggler ml-md-auto" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-lg-auto text-center">
                <li class="nav-item active  mr-3 mt-lg-0 mt-3">
                    <a class="nav-link" href="index.html">主页
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item  mr-3 mt-lg-0 mt-3">
                    <a class="nav-link" href="services.html">服务</a>
                </li>
                <li class="nav-item dropdown mr-3 mt-lg-0 mt-3">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false">
                        人员信息
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="doctor.html">医生</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="patient.html">患者</a>
                    </div>
                </li>
                <li class="nav-item mr-3 mt-lg-0 mt-3" v-if="userType==2">
                    <a class="nav-link" href="medicine.html">药品管理</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">联系我们</a>
                </li>
                <li>
                    <a class="nav-link" href="login.html">登录</a>
                </li>
                <li><a href="information.html" class="nav-link" id="username"></a></li>
            </ul>
        </div>
    </nav>
</header>
<!-- main image slider container -->
<div class="slide-window">
    <div class="slide-wrapper" style="width:300%;">
        <div class="slide">
            <div class="slide-caption text-center">
                <h3 class="text-uppercase">一系列针对女性的健康服务</h3>
            </div>
        </div>
        <div class="slide slide2">
            <div class="slide-caption text-center">
                <h3 class="text-uppercase">对每位患者采取不同的治疗方法</h3>
            </div>
        </div>
        <div class="slide slide3">
            <div class="slide-caption text-center">
                <h3 class="text-uppercase">致力于每位患者的医疗诊所</h3>
            </div>
        </div>
    </div>
    <div class="slide-controller">
        <div class="slide-control-left">
            <div class="slide-control-line"></div>
            <div class="slide-control-line"></div>
        </div>
        <div class="slide-control-right">
            <div class="slide-control-line"></div>
            <div class="slide-control-line"></div>
        </div>
    </div>
</div>
<!-- main image slider container -->
<!-- end of main image slider container -->
<!--about-->
<!--<div class="about">-->
<!--    <div class="abt-layer">-->
<!--        <div class="container">-->
<!--            <div class="about-main">-->
<!--                <div class="about-right">-->
<!--                    <h3 class="subheading-w3-agile">预约</h3>-->
<!--                    &lt;!&ndash; stats &ndash;&gt;-->
<!--                    <div class="stats">-->
<!--                        <div class="stats_inner">-->
<!--                            <form action="#" method="post">-->
<!--                                <select class="form-control mb-3">-->
<!--                                    &lt;!&ndash;查找所有科室，遍历&ndash;&gt;-->
<!--                                    &lt;!&ndash;<option value="2">Neurology</option>-->
<!--                                    <option value="3">Dentistry</option>-->
<!--                                    <option value="4">Cardiology</option>-->
<!--                                    <option value="5">Pediatrics</option>-->
<!--                                    <option value="6">Pulmonology</option>-->
<!--                                    <option value="7">Ophthalmology</option>-->
<!--                                    <option value="8">症状</option>&ndash;&gt;-->
<!--                                </select>-->
<!--                                <input class="form-control mb-3" type="text" placeholder="Name" name="name" required="">-->
<!--                                <select class="form-control mb-3">-->
<!--                                    <option value="2">性别</option>-->
<!--                                    <option value="3">男</option>-->
<!--                                    <option value="4">女</option>-->
<!--                                </select>-->
<!--                                <input class="form-control mb-3" type="text" placeholder="手机号" name="phone"-->
<!--                                       required="">-->
<!--                                <input class="form-control mb-3" type="email" placeholder="邮箱" name="email"-->
<!--                                       required="">-->
<!--                                <input class="form-control date mb-3" id="datepicker" name="Text"-->
<!--                                       placeholder="日期" type="text" required="">-->
<!--                                <button type="submit" class="btn btn-agile btn-block w-100">预约</button>-->
<!--                            </form>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; //stats &ndash;&gt;-->

<!--                </div>-->
<!--            </div>-->

<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--//about-->
<section class="departments">
    <div class="departments-1 py-lg-5">
        <div class="container py-5">
            <div class="text-center wthree-title pb-sm-5 pb-3">
                <h3 class="w3l-sub text-white">科室</h3>
            </div>
            <div class="row py-lg-5">
                <div class="col-sm-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon p-4">
                            <i class="fa fa-stethoscope" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">神经科</h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon p-4">
                            <i class="fa fa-wheelchair" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">创伤学</h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon p-4">
                            <i class="fa fa-plus-square" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">牙科</h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 mt-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon  p-4">
                            <i class="fa fa-heartbeat" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">心脏病学</h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 mt-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon p-4">
                            <i class="fa fa-medkit" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">肺病学</h4>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 mt-4 w3-ab">
                    <div class="w3-ab-grid text-center">
                        <div class="w3-aicon p-4">
                            <i class="fa fa-ambulance" aria-hidden="true"></i>
                            <h4 class="my-3 text-capitalize text-white">小儿科</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- case studies -->
<section class="case_w3ls  py-lg-5">
    <div class="container py-5">
        <div class="text-center wthree-title pb-sm-5 pb-3">
            <h3 class="w3l-sub">医疗服务</h3>
        </div>
        <!-- case studies row -->
        <div class="row">
            <div class="col-lg-4 col-md-6">
                <div class="img1 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>紧急求助</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 my-md-0 mt-4">
                <div class="img1 img2 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>心脏外科手术</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 my-lg-0 mt-4">
                <div class="img1 img3 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>急救护理</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mt-4">
                <div class="img1 img5 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>牙科护理</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6  mt-4">
                <div class="img1 img4 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>血糖测试</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 mt-4">
                <div class="img1 img6 img-grid  d-flex align-items-end justify-content-center p-3">
                    <div class="img_text_w3ls">
                        <h4>医生帮助</h4>
                        <span> </span>
                        <p>Sed porttitor lectus nibh ras ultricies ligula sed magna dictum porta. </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- //case studies row -->
    </div>
</section>
<!-- //case studies -->

<script src="../js/jquery-2.2.3.min.js"></script>
<script src="../js/minimal-slider.js"></script>
<link rel="stylesheet" href="../css/jquery-ui.css"/>
<script src="../js/jquery-ui.js"></script>
<script>
    $(function () {
        $("#datepicker").datepicker();
    });
</script>

<script defer src="../js/jquery.flexslider.js"></script>
<script>
    $(window).load(function () {
        $('.flexslider').flexslider({
            animation: "slide",
            start: function (slider) {
                $('body').removeClass('loading');
            }
        });
    });
</script>

<script src="../js/move-top.js"></script>
<script src="../js/easing.js"></script>
<script>
    jQuery(document).ready(function ($) {
        $(".scroll").click(function (event) {
            event.preventDefault();

            $('html,body').animate({
                scrollTop: $(this.hash).offset().top
            }, 1000);
        });
    });
</script>
<script>
    $(document).ready(function () {
        $().UItoTop({
            easingType: 'easeOutQuart'
        });

    });
    // 从 localStorage 中获取用户名
    const username = localStorage.getItem('name');
    console.log(localStorage.getItem('name'))
    // 显示用户名在页面上
    if (username!=null) {
        document.getElementById('username').textContent = username;
    } else {
        document.getElementById('username').textContent = 'Guest';
    }
</script>
<script src="../js/SmoothScroll.min.js"></script>

<script src="../js/bootstrap.js"></script>
<script src="../js/axios-0.18.0.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="../js/vue.js"></script>

<script>
    new Vue({
        el: "#exampleModal",
        data() {
            return {
                user: {
                    userID: '',
                    username: '',
                    password: '',
                    phone: '',
                    email: '',
                    address: '',
                    userType: '',
                    photo: ''
                },
            }
        },
        methods: {
            /*登录按钮的方法*/
            login() {
                if (this.user.userID.length == 0) {
                    alert("请输入您的学号")
                } else if (this.user.password.length == 0) {
                    alert("请输入您的密码")
                } else {
                    localStorage.setItem("password", this.password)
                    localStorage.setItem("name", this.name);
                    axios.post("/user/login", this.user).then((res) => {
                        if (res.data.code == 20041) {
                            console.log("成功")
                            this.user = res.data.data
                            console.log(this.user)
                            if (this.user.userType == 0) {
                                //如果是管理员
                                console.log("患者")
                                // location.href = "ad_about.html"
                            } else if (this.user.userType == 1) {
                                console.log("医生")
                                // location.href = "doctor.html"
                            } else if (this.user.userType == 2) {
                                console.log("管理员")
                                // location.href = "doctor.html"
                            }
                        } else if (res.data.code == 20040) {
                            alert(res.data.msg);
                        }
                    })
                }

            },
        }
    })
    new Vue({
        el: "#exampleModalCenter2",
        data() {
            return {
                user: {
                    userID: '',
                    username: '',
                    password: '',
                    phone: '',
                    email: '',
                    address: '',
                    userType: '',
                    photo: ''
                },
                name: "",
            }
        },
        methods: {
            /*注册按钮的方法*/
            addUser() {
                console.log("点确定" + this.user.username + this.user.userID + this.user.password)
                //将名字和密码存入localstorage中
                localStorage.setItem("password", this.password)
                localStorage.setItem("name", this.name);
                //调用存储
                if (this.user != null) {
                    console.log("user不为空" + this.user.username + this.user.userID + this.user.password)
                    if (this.user.username.length == 0) {
                        alert("请您输入您的姓名！")
                    } else if (this.user.password.length == 0) {
                        alert("请您输入密码！")
                    } else {
                        axios.post("/user/register", this.user).then((res) => {
                            if (res.data.code == 20011) {
                                //将输入框清空
                                this.name = "";
                                this.password = "";
                                location.href = "index.html"
                            } else {
                                alert(res.data.msg);
                            }
                        })
                    }
                }
            }
        }
    })
</script>
</body>
</html>